ゲーム企画仕様書（Version 1.0）
1. 勝利・敗北条件

    勝利: 敵チームのリーダー機の頭部パーツの「装甲」を0にする。

    敗北: 味方チームのリーダー機の頭部パーツの「装甲」を0にする。

2. 戦闘シーケンス
2.1. 戦闘開始

    戦闘メンバー（自軍3機、敵軍3機）をフィールドに配置。

    各チームのリーダー機を内部的に設定。敵リーダーはプレイヤーには非表示。

    プレイヤーに味方3機の初期行動を入力させる。

    全機体がチャージフェーズへ移行し、戦闘を開始する。

2.2. 戦闘終了

    勝利または敗北条件が満たされた瞬間にトリガーされる。

    リザルト画面を表示。

    熟練度獲得:

        参加メダルに熟練度ポイントを加算。

        ポイントは「敵の強さ」と「戦闘中の行動回数」に応じて算出。

    パーツドロップ:

        倒した敵が装備していたパーツが、設定された確率でドロップする。

    プレイヤーの確認後、ハブエリア（拠点）へ遷移する。

    ゲームオーバー画面を表示。

    ペナルティ: なし。

    プレイヤーに**「拠点に戻る」か「再挑戦する」**かを選択させる。

        「再挑戦する」を選択した場合、OnBattleStartから処理をやり直す。

3. 戦闘計算式

    以下の式中の定数（500, 0.5, 75, 2.0）は、ゲームバランス調整のため、後から変更可能なグローバル変数として管理することを推奨。

3.1. 時間計算

    チャージ時間 (秒): 500 / (使用パーツの「充填」 + 脚部の「推進」 * 0.5)

    クールダウン時間 (秒): 500 / (使用パーツの「冷却」 + 脚部の「推進」 * 0.5)

3.2. 命中・回避・クリティカル計算

    最終計算値の算出:

        最終計算値 = 75 + 攻撃側の「命中」 - 防御側の「機動」 + 技・特性補正

        技・特性補正:

            狙い撃ち: +50

            殴る: +20

            その他: 0

    判定:

        もし 最終計算値 <= 0 なら:

            結果: 回避

        もし 0 < 最終計算値 <= 100 なら:

            最終計算値 % の確率で 命中

            残りの確率で 回避

        もし 最終計算値 > 100 なら:

            結果: 命中確定

            (最終計算値 - 100) % の確率で クリティカルヒット発生

3.3. ダメージ計算

    基本ダメージ = 攻撃パーツの「威力」

    ダメージ軽減値 = 被弾パーツの「耐久」 + 脚部パーツの「耐久」

    素ダメージ = 基本ダメージ - ダメージ軽減値

    クリティカル補正 = クリティカル発生時 ? 2.0 : 1.0

    補正後ダメージ = 素ダメージ * クリティカル補正

    最終ダメージ = Max(1, Floor(補正後ダメージ))

        Floor() は小数点以下切り捨て。ダメージは整数とする。

        Max() により最低ダメージを1に保証。

3.4. 攻撃アクションの制約（デメリット）

    「狙い撃ち」「殴る」「我武者羅」を選択した機体は、行動の特定フェーズ（チャージ中/クールダウン中、または両方）で以下の制約を受ける。

    回避不能: 命中・回避計算において、自身の「機動」パラメータが 0 として扱われる。

    防御不能: ダメージ計算において、自身の「耐久」パラメータが 0 として扱われる。

4. 主要パラメータ定義

    各パラメータは2～3桁の整数を想定。

パラメータ	役割	序盤の数値例	設定箇所
装甲	パーツのHP	腕:80, 頭:100, 脚:120	頭, 腕, 脚
威力	攻撃の基礎値	30 - 50	頭, 腕
耐久	ダメージ軽減値	10 - 20	頭, 腕, 脚
命中	命中・クリティカルの基礎値	50 (標準)	頭, 腕
機動	回避の成功判定値	20 - 40	脚
充填	チャージ速度	50 - 80	頭, 腕
冷却	クールダウン速度	50 - 80	頭, 腕
推進	全行動速度への補正	20 - 40	脚
